<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Portfolio Analyzer Settings</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="settings-container">
    <h1>Portfolio Impact Analyzer Settings</h1>

    <form id="settingsForm">
      <div class="form-group">
        <label for="portfolioUrl">Yahoo Finance Portfolio URL:</label>
        <input type="url" id="portfolioUrl" placeholder="https://finance.yahoo.com/portfolio/p_12/view/v1" required>
        <small>Copy the URL from your Yahoo Finance portfolio page</small>
      </div>

      <div class="form-group">
        <label for="geminiApiKey">Gemini API Key:</label>
        <input type="password" id="geminiApiKey" placeholder="Enter your Gemini API key" required>
        <small>Get your API key from <a href="https://aistudio.google.com/app/apikey" target="_blank">Google AI Studio</a></small>
      </div>

      <div class="form-group">
        <label for="geminiModel">Gemini Model:</label>
        <select id="geminiModel" required>
          <option value="gemini-1.5-flash">Gemini 1.5 Flash (Recommended)</option>
          <option value="gemini-1.5-pro">Gemini 1.5 Pro</option>
          <option value="gemini-1.5-flash-8b">Gemini 1.5 Flash-8B (Fast)</option>
          <option value="gemini-2.0-flash-exp">Gemini 2.0 Flash Experimental</option>
        </select>
      </div>

      <div class="form-group">
        <label for="enableThinking">
          <input type="checkbox" id="enableThinking"> Enable Thinking Mode
        </label>
        <small>When enabled, Gemini will show its reasoning process. This provides more detailed analysis but takes longer.</small>
      </div>

      <div class="form-group">
        <label for="manualHoldings">Manual Holdings (Optional):</label>
        <textarea id="manualHoldings" placeholder="Enter your holdings, one per line:&#10;PTOTE3OE0025.LS&#10;GALP.LS&#10;GCO.MC&#10;TTE.PA&#10;SHL.DE" rows="5"></textarea>
        <small>If automatic portfolio fetching fails, enter your holdings manually. One symbol per line.</small>
      </div>

      <div class="form-actions">
        <button type="submit" id="saveBtn">Save Settings</button>
        <button type="button" id="testBtn">Test Configuration</button>
      </div>
    </form>

    <div id="status" class="status-message"></div>

    <div class="instructions">
      <h3>Setup Instructions:</h3>
      <ol>
        <li>Go to your Yahoo Finance portfolio page and copy the URL</li>
        <li>Get a Gemini API key from Google AI Studio</li>
        <li>Select your preferred Gemini model</li>
        <li>Save settings and test the configuration</li>
      </ol>
    </div>
  </div>

  <script src="settings.js"></script>
</body>
</html>